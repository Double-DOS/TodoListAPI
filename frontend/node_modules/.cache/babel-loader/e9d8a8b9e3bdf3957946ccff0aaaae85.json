{"ast":null,"code":"import _objectSpread from\"/root/Desktop/djangoprojects/TodoRestApi/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/root/Desktop/djangoprojects/TodoRestApi/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/root/Desktop/djangoprojects/TodoRestApi/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/root/Desktop/djangoprojects/TodoRestApi/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/root/Desktop/djangoprojects/TodoRestApi/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/root/Desktop/djangoprojects/TodoRestApi/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import{render}from'@testing-library/react';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={todoList:[],activeItem:{id:null,title:'',completed:false},editing:false};_this.fetchTasks=_this.fetchTasks.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.deleteItem=_this.deleteItem.bind(_assertThisInitialized(_this));_this.strikeUnstrike=_this.strikeUnstrike.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){this.fetchTasks();}},{key:\"fetchTasks\",value:function fetchTasks(){var _this2=this;console.log('Fetching Tasks....');fetch('http://localhost:8000/api/task-list/').then(function(response){return response.json();}).then(function(data){return _this2.setState({todoList:data});});}},{key:\"handleChange\",value:function handleChange(e){var name=e.target.name;var value=e.target.value;console.log('Name',name);console.log('Value:',value);this.setState({activeItem:_objectSpread(_objectSpread({},this.state.activeItem),{},{title:value})});}},{key:\"handleSubmit\",value:function handleSubmit(e){var _this3=this;e.preventDefault();console.log('Item:',this.state.activeItem);var url='http://localhost:8000/api/task-create/';if(this.state.editing===true){url=\"http://localhost:8000/api/task-update/\".concat(this.state.activeItem.id,\"/\");this.setState({editing:false});}fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(this.state.activeItem)}).then(function(response){_this3.fetchTasks();_this3.setState({activeItem:{id:null,title:'',completed:false}});}).catch(function(error){console.log('ERROR:',error);});}},{key:\"startEdit\",value:function startEdit(task){this.setState({activeItem:task,editing:true});}},{key:\"deleteItem\",value:function deleteItem(task){var _this4=this;fetch(\"http://localhost:8000/api/task-delete/\".concat(task.id,\"/\"),{method:'DELETE',headers:{'Content-Type':'application/json'}}).then(function(response){_this4.fetchTasks();});}},{key:\"strikeUnstrike\",value:function strikeUnstrike(task){var _this5=this;task.completed=!task.completed;console.log('TASK:',task.completed);fetch(\"http://localhost:8000/api/task-update/\".concat(task.id,\"/\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({'completed':task.completed,'title':task.title})}).then(function(){_this5.fetchTasks();});}},{key:\"render\",value:function render(){var tasks=this.state.todoList;var self=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{id:\"task-container\"},/*#__PURE__*/React.createElement(\"div\",{id:\"form-wrapper\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,id:\"form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{style:{flex:6}},/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,type:\"text\",className:\"form-control\",name:\"title\",value:this.state.activeItem.title,id:\"title\",placeholder:\"Add Task\"})),/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}},/*#__PURE__*/React.createElement(\"input\",{id:\"submit\",className:\"btn btn-success\",type:\"submit\",value:\"Submit\",name:\"add\"}))))),/*#__PURE__*/React.createElement(\"div\",{id:\"list-wrapper\"},tasks.map(function(task,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"task-wrapper flex-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return self.strikeUnstrike(task);},style:{flex:7}},task.completed===false?/*#__PURE__*/React.createElement(\"span\",null,task.title):/*#__PURE__*/React.createElement(\"strike\",null,task.title)),/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return self.startEdit(task);},className:\"btn btn-sm btn-outline-info edit\"},\"Edit\")),/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return self.deleteItem(task);},className:\"btn btn-sm btn-outline-dark delete\"},\"-\")));}))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/root/Desktop/djangoprojects/TodoRestApi/frontend/src/App.js"],"names":["React","render","App","props","state","todoList","activeItem","id","title","completed","editing","fetchTasks","bind","handleChange","handleSubmit","deleteItem","strikeUnstrike","console","log","fetch","then","response","json","data","setState","e","name","target","value","preventDefault","url","method","headers","body","JSON","stringify","catch","error","task","tasks","self","flex","map","index","startEdit","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { render } from '@testing-library/react';\n\nclass App extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttodoList:[],\n\t\t\tactiveItem:{\n\t\t\t\tid:null,\n\t\t\t\ttitle:'',\n\t\t\t\tcompleted:false,\n\t\t\t},\n\t\t\tediting:false,\n\t\t}\n\t\tthis.fetchTasks = this.fetchTasks.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.deleteItem = this.deleteItem.bind(this);\n\t\tthis.strikeUnstrike = this.strikeUnstrike.bind(this);\n\t}\n\n\tcomponentWillMount(){\n\t\tthis.fetchTasks()\n\t}\n\n\tfetchTasks(){\n\t\tconsole.log('Fetching Tasks....')\n\t\tfetch('http://localhost:8000/api/task-list/')\n\t\t.then(response => response.json())\n\t\t.then(data =>\n\t\t\tthis.setState({\n\t\t\t\ttodoList:data\n\t\t\t})\n\t\t\t)\n\t}\n\n\thandleChange(e){\n\t\tvar name = e.target.name\n\t\tvar value = e.target.value\n\t\tconsole.log('Name', name)\n\t\tconsole.log('Value:', value)\n\n\t\tthis.setState({\n\t\t\tactiveItem:{\n\t\t\t\t...this.state.activeItem,\n\t\t\t\ttitle:value\n\t\t\t}\n\t\t})\n\t}\n\n\thandleSubmit(e){\n\t\te.preventDefault()\n\t\tconsole.log('Item:', this.state.activeItem)\n\t\tvar url = 'http://localhost:8000/api/task-create/'\n\n\t\tif(this.state.editing === true){\n\t\t\turl = `http://localhost:8000/api/task-update/${this.state.activeItem.id}/`\n\t\t\tthis.setState({\n\t\t\t\tediting:false,\n\t\t\t})\n\t\t}\n\t\tfetch(url,{\n\t\t\tmethod:'POST',\n\t\t\theaders:{\n\t\t\t\t'Content-Type':'application/json',\n\t\t\t},\n\t\t\tbody:JSON.stringify(this.state.activeItem)\n\t\t}).then((response) => {\n\t\t\tthis.fetchTasks()\n\t\t\tthis.setState({\n\t\t\t\tactiveItem:{\n\t\t\t\t\tid:null,\n\t\t\t\t\ttitle:'',\n\t\t\t\t\tcompleted:false,\n\t\t\t\t}\n\t\t\t})\n\t\t}).catch(function(error){\n\t\t\tconsole.log('ERROR:', error)\n\t\t})\n\t}\n\n\tstartEdit(task){\n\t\tthis.setState({\n\t\t\tactiveItem:task,\n\t\t\tediting: true,\n\t\t})\n\t}\n\n\tdeleteItem(task){\n\t\tfetch(`http://localhost:8000/api/task-delete/${task.id}/`,{\n\t\t\tmethod:'DELETE',\n\t\t\theaders:{\n\t\t\t\t'Content-Type':'application/json'\n\t\t\t},\n\t\t}).then((response) =>{\n\t\t\tthis.fetchTasks()\n\t\t})\n\t}\n\n\tstrikeUnstrike(task){\n\t\ttask.completed = !task.completed\n\t\tconsole.log('TASK:', task.completed)\n\t\tfetch(`http://localhost:8000/api/task-update/${task.id}/`,{\n\t\t\tmethod:'POST',\n\t\t\theaders:{\n\t\t\t\t'Content-Type':'application/json',\n\t\t\t},\n\t\t\tbody:JSON.stringify({'completed':task.completed, 'title':task.title})\n\t\t}).then(()=>{\n\t\t\tthis.fetchTasks()\n\t\t})\n\t}\n\n  \trender(){\n\t\tvar tasks = this.state.todoList\n\t\tvar self = this\n\t\treturn(\n\t\t\t<div className=\"container\">\n\t\t\t\t<div id=\"task-container\">\n\t\t\t\t\t<div id=\"form-wrapper\">\n\t\t\t\t\t\t<form onSubmit={this.handleSubmit} id=\"form\">\n\t\t\t\t\t\t\t<div className=\"flex-wrapper\">\n\t\t\t\t\t\t\t\t<div style={{flex: 6}}>\n\t\t\t\t\t\t\t\t\t<input onChange={this.handleChange} type=\"text\" className=\"form-control\" name=\"title\" value={this.state.activeItem.title} id=\"title\" placeholder=\"Add Task\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{flex: 1}}>\n\t\t\t\t\t\t\t\t\t<input id=\"submit\" className=\"btn btn-success\" type=\"submit\" value=\"Submit\" name=\"add\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"list-wrapper\">\n\t\t\t\t\t\t{tasks.map(function(task, index){\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t<div key={index} className=\"task-wrapper flex-wrapper\">\n\t\t\t\t\t\t\t\t\t<div onClick={() => self.strikeUnstrike(task)} style={{flex: 7}}>\n\t\t\t\t\t\t\t\t\t\t{task.completed === false ?(\n\t\t\t\t\t\t\t\t\t\t\t<span>{task.title}</span>\n\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t\t<strike>{task.title}</strike>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{flex: 1}}>\n\t\t\t\t\t\t\t\t\t\t<button onClick={() => self.startEdit(task)} className=\"btn btn-sm btn-outline-info edit\">Edit</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div style={{flex: 1}}>\n\t\t\t\t\t\t\t\t\t\t<button onClick={() => self.deleteItem(task)} className=\"btn btn-sm btn-outline-dark delete\">-</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n  \t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}